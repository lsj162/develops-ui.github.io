import{r,j as e}from"./index-zMm14P6y.js";const b="_content_10g6d_1",C={content:b};function k({selfRef:c,menu:o,onClose:l}){return e.jsx(e.Fragment,{children:e.jsx("div",{ref:c,className:"absolute z-10 h-90 w-44 rounded-xl border border-slate-300/50 bg-white p-2 shadow-2xl",children:e.jsx("ul",{children:o.map(n=>e.jsx(e.Fragment,{children:n.label?e.jsx(e.Fragment,{children:e.jsx("li",{onClick:function(){n!=null&&n.onClick&&(l&&l(),n==null||n.onClick())},className:`${n!=null&&n.danger?"text-[red]":""} flex cursor-pointer items-center rounded-lg px-4 py-2 hover:bg-slate-200/50`,children:n.label})}):e.jsx("hr",{className:"m-1"})}))})})})}function y(c){const{menu:o,children:l,callback:n}=c,[i,h]=r.useState(0),[x,g]=r.useState(0),[a,u]=r.useState(!1),f=r.useRef(null),s=r.useRef(null);r.useEffect(()=>{function t(d){s.current&&!s.current.contains(d.target)&&u(!1)}return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[s]),r.useEffect(()=>{if(s.current){const t=f.current.getBoundingClientRect();s.current.style.left=i-t.x+"px",s.current.style.top=x-t.y+"px"}},[s,a,i,x]);const j=t=>{t.preventDefault();const d=t.clientX,p=t.clientY;u(!a),h(d),g(p),n&&n(t)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:C.content,ref:f,onContextMenu:j,children:[e.jsx("div",{children:l}),a&&e.jsx(k,{selfRef:s,menu:o,onClose:()=>u(!1)})]})})}function m(){const c=()=>{};return e.jsx(e.Fragment,{children:e.jsx(y,{menu:[{label:"新建文件夹",onClick:()=>{}},{label:"新建文件",onClick:()=>{}},{type:"divider"}],callback:c})})}export{m as default};
