import{j as i}from"./jsx-runtime-u17CrQMm.js";import{r as h}from"./iframe-ahbmcfaX.js";import"./preload-helper-PPVm8Dsz.js";class d{id;current;total;pageSize;onchange;pageNumber;totalPage;container;constructor(t){this.id=t.id||"",this.current=t.props.current||1,this.total=t.props.total||100,this.pageSize=t.props.pageSize||2,this.onchange=t.props.onchange||null,this.pageNumber=5,this.totalPage=Math.ceil(this.total/this.pageSize),this.init()}init(){this.handle(),this.total!==0&&this.loadPage()}handle(){this.container=document.querySelector("#"+this.id),this.container.onclick=t=>{var a=t||window.event,s=a.target||a.srcElement;s.getAttribute("data-page")&&s.getAttribute("class").indexOf("disabled")==-1&&(this.current=parseInt(s.getAttribute("data-page")),this.loadPage(),this.onchange({current:this.current,pageSize:this.pageSize}))}}callback_handle(){this.container.querySelector(".skip-input").addEventListener("keyup",t=>{var a=t||window.event,s=a.target||a.srcElement;if(t.keyCode===13){let r=parseInt(s.value);this.current=r>this.totalPage?this.totalPage:r,this.loadPage(),this.onchange({current:this.current,pageSize:this.pageSize})}})}loadPage(){this.container.innerHTML="";let t="",a=this.current>this.totalPage?this.totalPage:this.current;const s=a===1?"disabled":"",r=a===1?1:a-1;if(t+=`<span class="count">共 ${this.total} 条</span>`,t+=`<a href="javascript:;" class='${s}' data-page="1">首页</a>
        <a href="javascript:;" class='${s}' data-page=${r}>上一页</a>`,this.totalPage<=this.pageNumber)for(let e=1;e<=this.totalPage;e++)t+=`<a class='${e==a?"acive":""}' data-page=${e} >${e}</a>`;else if(a<this.pageNumber){for(let e=1;e<=this.pageNumber;e++)t+=`<a class='${e==a?"acive":""}' data-page=${e} > ${e} </a>`;t+='<a class="disabled">...</a>'}else if(t+='<a class="disabled">...</a>',a<this.totalPage-4){for(let e=a-2;e<=a+2;e++)t+=`<a class='${e==a?"acive":""}' data-page=${e} >${e}</a>`;t+='<a class="disabled">...</a>'}else if(this.totalPage-a<this.pageNumber)for(let e=a-(this.pageNumber-(this.totalPage-a)-1);e<=a+(this.totalPage-a);e++)t+=`<a class='${e==a?"acive":""}' data-page=${e} >${e}</a>`;t+=`<a href="javascript:;" class='${a===this.totalPage?"disabled":""}' data-page=${a==this.totalPage?this.totalPage:a+1} >下一页</a>
        <a href="javascript:;" class='${a===this.totalPage?"disabled":""}' data-page=${this.totalPage} >尾页</a>`,t+=`<span class="skip"> 到第<input type="text" min="1" value="${a}" class="skip-input">页</span>`,this.container.innerHTML=`<div class="js-page">${t}</div>`,this.callback_handle()}}const o="pagination";function c(l){return h.useEffect(()=>{new d({id:o,props:l})},[o,l]),i.jsx(i.Fragment,{children:i.jsx("div",{id:o})})}c.__docgenInfo={description:"",methods:[],displayName:"Page"};function g(){return i.jsxs(i.Fragment,{children:[i.jsx("h1",{children:"Pagination 分页 "}),i.jsx("h3",{children:"演示"}),i.jsx(c,{})]})}g.__docgenInfo={description:"",methods:[],displayName:"Page"};const m={component:g},n={args:{backgroundColor:"#000000",label:"label"}};n.parameters={...n.parameters,docs:{...n.parameters?.docs,source:{originalSource:`{
  args: {
    backgroundColor: "#000000",
    label: "label"
  }
}`,...n.parameters?.docs?.source}}};const P=["Default"];export{n as Default,P as __namedExportsOrder,m as default};
