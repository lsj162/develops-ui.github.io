import{j as i}from"./jsx-runtime-u17CrQMm.js";import{r as g}from"./iframe-Dx1vcyoD.js";import"./preload-helper-PPVm8Dsz.js";const x={Cubic:{easeIn:function(s,t,e,n){return e*(s/=n)*s*s+t},easeOut:function(s,t,e,n){return e*((s=s/n-1)*s*s+1)+t},easeInOut:function(s,t,e,n){return(s/=n/2)<1?e/2*s*s*s+t:e/2*((s-=2)*s*s+2)+t}}};var u=["https://bnetcmsus-a.akamaihd.net/cms/gallery/vp/VPXLK8LEZIF51516929079173.jpg","https://bnetcmsus-a.akamaihd.net/cms/gallery/tt/TT1I2PMCERZS1518117043081.jpg","https://bnetcmsus-a.akamaihd.net/cms/page_media/6r/6RM2X0ZS3UIA1509731407458.jpg"];class v{id;current;data;dataLen;offsetLeft;container;fullWidth;timer;constructor(t){this.id=t.id||"",this.current=t.props.current||0,this.data=u||[{},{},{}],this.dataLen=this.data.length,this.offsetLeft=0,this.init()}init(){this.container=document.querySelector("#"+this.id),this.container.innerHTML="",this.fullWidth=this.container.getBoundingClientRect().width,this.SteeringWheel(),this.dotInit(),this.content(),this.handle(),this.autoplay()}handle(){this.container.onclick=t=>{var e=t||window.event,n=e.target||e.srcElement;if(n.getAttribute("class")==="prev-arrow"?this.animationCallback({from:this.current,to:this.current-1<0?this.dataLen-1:this.current-1}):n.getAttribute("class")==="next-arrow"&&this.animationCallback({from:this.current,to:this.current+1>this.dataLen-1?0:this.current+1}),n.getAttribute("class")==="dot"){const a=n.getAttribute("data-index");this.animationCallback({from:this.current,to:parseInt(a)})}},this.container.addEventListener("mouseover",()=>{clearInterval(this.timer)}),this.container.addEventListener("mouseleave",()=>{this.autoplay&&this.autoplay()})}content(){var t="";for(let e=0,n=this.data.length;e<n;e++)t+=`<li class="control-li" style=${"width:"+this.fullWidth+"px"}>
                <img src=${u[e]} />
               </li>`;this.container.innerHTML+=`<div class='control-content' style=${"width:"+this.dataLen*this.fullWidth+"px"}><ul>${t}</ul> </div>`}SteeringWheel(){this.container.innerHTML+="<div class='control-btn'><button class='prev-arrow'></button><button class='next-arrow'></button></div>"}dotInit(){let t="";for(let e=0,n=this.data.length;e<n;e++)t+=`<li class="dot" data-index=${e}>
            <div class="process"><div/>
            </li>`;this.container.innerHTML+=" <div class='control-dot'><ul>"+t+"</ul></div>",this.index_style(0)}autoplay(){this.timer=setInterval(()=>{this.animationCallback({from:this.current,to:this.current+1>this.dataLen-1?0:this.current+1})},5e3)}index_style(t){const e=this.container.querySelectorAll(".dot");for(var n=0,a=this.dataLen;n<a;n++)e[n].setAttribute("class","dot");e[t].setAttribute("class","dot active")}animationCallback(t){this.current=t.to;const e=-(t.from*this.fullWidth);this.offsetLeft=-t.to*this.fullWidth;const n=e>this.offsetLeft?-1:1,a=this.offsetLeft-e;this.index_style(t.to),this.effect(e,n,a)}effect(t,e,n){const a=this.container.querySelector(".control-content");var o=0,l=50;const d=()=>{o++;var c=x.Cubic.easeInOut(o,0,n,l);p(c),o<l?h=requestAnimationFrame(d):window.cancelAnimationFrame(h)};var h=requestAnimationFrame(d);const p=c=>{a.style.transform="translate3d("+(t+e*Math.abs(c))+"px,0,0 )"}}}function m(s){return g.useEffect(()=>{new v({id:"id",props:s})},["id"]),i.jsx(i.Fragment,{children:i.jsx("div",{id:"id",className:"carousel-container"})})}m.__docgenInfo={description:"",methods:[],displayName:"Page"};function f(){return i.jsxs(i.Fragment,{children:[i.jsx("h1",{className:"text-6xl",children:"Carousel 走马灯"}),i.jsx("p",{children:"走马灯一组轮播的效果。"}),i.jsx("h2",{className:"text-5xl",children:"API"}),i.jsx("code",{children:`
          <Carousel data=[] time=5 ... />
        `}),i.jsx("h3",{className:"text-4xl",children:"演示"}),i.jsx(m,{})]})}f.__docgenInfo={description:"",methods:[],displayName:"Page"};const C={component:f},r={args:{backgroundColor:"#000000",label:"label"}};r.parameters={...r.parameters,docs:{...r.parameters?.docs,source:{originalSource:`{
  args: {
    backgroundColor: "#000000",
    label: "label"
  }
}`,...r.parameters?.docs?.source}}};const j=["Default"];export{r as Default,j as __namedExportsOrder,C as default};
