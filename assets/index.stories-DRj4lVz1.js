import{j as e}from"./jsx-runtime-u17CrQMm.js";import{r as s}from"./iframe-Dx1vcyoD.js";import"./preload-helper-PPVm8Dsz.js";const C="_content_117i2_1",k={content:C};function v({selfRef:o,menu:l,onClose:a}){return e.jsx(e.Fragment,{children:e.jsx("div",{ref:o,className:"absolute z-10 h-90 w-44 rounded-xl border border-slate-300/50 bg-white p-2 shadow-2xl",children:e.jsx("ul",{children:l.map(t=>e.jsx(e.Fragment,{children:t.label?e.jsx(e.Fragment,{children:e.jsx("li",{onClick:function(){t?.onClick&&(a&&a(),t?.onClick())},className:`${t?.danger?"text-[red]":""} flex cursor-pointer items-center rounded-lg px-4 py-2 hover:bg-slate-200/50`,children:t.label})}):e.jsx("hr",{className:"m-1"})}))})})})}function x(o){const{menu:l,children:a,callback:t}=o,[m,b]=s.useState(0),[p,h]=s.useState(0),[i,u]=s.useState(!1),f=s.useRef(null),r=s.useRef(null);s.useEffect(()=>{function n(d){r.current&&!r.current.contains(d.target)&&u(!1)}return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[r]),s.useEffect(()=>{if(r.current){const n=f.current.getBoundingClientRect();r.current.style.left=m-n.x+"px",r.current.style.top=p-n.y+"px"}},[r,i,m,p]);const y=n=>{n.preventDefault();const d=n.clientX,j=n.clientY;u(!i),b(d),h(j),t&&t(n)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:k.content,ref:f,onContextMenu:y,children:[e.jsx("div",{children:a}),i&&e.jsx(v,{selfRef:r,menu:l,onClose:()=>u(!1)})]})})}x.__docgenInfo={description:"",methods:[],displayName:"Page",props:{menu:{required:!0,tsType:{name:"Array",elements:[{name:"any"}],raw:"any[]"},description:""},children:{required:!1,tsType:{name:"ReactNode"},description:""},callback:{required:!1,tsType:{name:"signature",type:"function",raw:"() => {} | void",signature:{arguments:[],return:{name:"union",raw:"{} | void",elements:[{name:"signature",type:"object",raw:"{}",signature:{properties:[]}},{name:"void"}]}}},description:""}}};function g(){const o=()=>{};return e.jsx(e.Fragment,{children:e.jsx(x,{menu:[{label:"新建文件夹",onClick:()=>{}},{label:"新建文件",onClick:()=>{}},{type:"divider"}],callback:o})})}g.__docgenInfo={description:"",methods:[],displayName:"Page"};const N={component:g},c={args:{backgroundColor:"#000000",label:"label"}};c.parameters={...c.parameters,docs:{...c.parameters?.docs,source:{originalSource:`{
  args: {
    backgroundColor: "#000000",
    label: "label"
  }
}`,...c.parameters?.docs?.source}}};const R=["Default"];export{c as Default,R as __namedExportsOrder,N as default};
